{"version":3,"sources":["uni-app:///main.js","webpack:///D:/UPUPW_AP7.2_64/htdocs/sunmi/pages/mine/mine.vue?ac13","webpack:///D:/UPUPW_AP7.2_64/htdocs/sunmi/pages/mine/mine.vue?0e89","webpack:///D:/UPUPW_AP7.2_64/htdocs/sunmi/pages/mine/mine.vue?a80c","webpack:///D:/UPUPW_AP7.2_64/htdocs/sunmi/pages/mine/mine.vue?1cf1","uni-app:///pages/mine/mine.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","res","sunmi_print","printerPlugin","printerType","onLoad","methods","goToWeb","console","uni","url","initPrinter","content","printText","getPrinterStatus","print","open","success","_this","onlyFromCamera","scanType"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACgM;AAChM,gBAAgB,uMAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAquB,CAAgB,gvBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqBzvB;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;EAAA,CACA;EACAC;IACAC;MACAC;MACAC;QACAC;MACA;IACA;IACAC;MACAR;QACA;UACAK;UACAC;YACAG;UACA;QACA;MACA;IACA;IACAC;MACA;MACAL;MACA;MACAL;MACAA;MACAA;MACAA;IACA;IACAW;MACAX;QACAK;QACAC;UACAG;QACA;MACA;IACA;IAGAG;MAAA;MACA;MACA;;MAEA;MACAb;QACAM;QACA;QACA;UACA;UACAN;UACA;UACAA;UACA;UACA;UACA;UACA;UACA;UACA;UACAA;UACAA;UACAA;UACAA;QACA;MACA;IAIA;IACAc;MACA;MACA;QACA;QACAP;UACAQ;YACAT;YACAA;YACAU;UACA;QACA;MACA;QACA;QACAT;UACAU;UACAF;YACAT;YAEAA;YACAU;UACA;QACA;MACA;QACA;QACAT;UACAW;UACAH;YACAT;YACAA;YACAU;UACA;QACA;MACA;IACA;EAMA;AACA;AAAA,2B","file":"pages/mine/mine.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/mine/mine.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./mine.vue?vue&type=template&id=dcbcfe34&\"\nvar renderjs\nimport script from \"./mine.vue?vue&type=script&lang=js&\"\nexport * from \"./mine.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/mine.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=template&id=dcbcfe34&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\kisszxc29\\\\Desktop\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t个人中心\r\n\t\t<!-- <button @click=\"open(1)\">允许从相机和相册扫码</button>\r\n\t\t<button @click=\"open(2)\">只允许通过相机扫码</button>\r\n\t\t<button @click=\"open(3)\">调起条码扫描</button> -->\r\n\t\t\r\n\t\t<button @click=\"print\">sunmi 测试打印</button>\n\t\t<view class=\"\">\n\t\t\t{{res}}\n\t\t</view>\r\n\t\t<button @click=\"initPrinter\">初始化</button>\r\n\t\t<button @click=\"printText\">测试一敏打印</button>\r\n\t\t<button @click=\"getPrinterStatus\">打印进状态</button>\r\n\r\n\r\n\t\t<!-- <button @click=\"goToWeb\">跳转web</button> -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\n\tlet printerPlugin = uni.requireNativePlugin('plugin-ImiPrinterModule');\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tres: \"\",\r\n\t\t\t\tsunmi_print: null,\r\n\t\t\t\tprinterPlugin: null,\r\n\t\t\t\tprinterType: \"SPI\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t//使用后断开打印机\r\n\t\t\t// sunmi_print.disconnect()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgoToWeb() {\r\n\t\t\t\tconsole.log(123)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/web/web'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinitPrinter() {\r\n\t\t\t\tprinterPlugin.InitPrinter(this.printerType, res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tconsole.log(`printerPlugin---`, JSON.stringify(res));\r\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\tcontent:JSON.stringify(res)\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tprintText() {\n\t\t\t\tthis.initPrinter()\r\n\t\t\t\tconsole.info(printerPlugin)\n\t\t\t\tlet text = \"iMin致力于使用先进的技术来帮助合作伙伴实现业务数字化。\\n我们致力于成为\\n东盟国家领先的智能商务设备提供商，帮助合作伙伴有效地连接\\n\"; \n\t\t\t\tprinterPlugin.setAlignment(1);\n\t\t\t\tprinterPlugin.setTextSize(35);\n\t\t\t\tprinterPlugin.printText(text);\n\t\t\t\tprinterPlugin.printAndFeedPaper(200);\r\n\t\t\t},\r\n\t\t\tgetPrinterStatus() {\r\n\t\t\t\tprinterPlugin.getPrinterStatus(res => {\r\n\t\t\t\t\tconsole.log(JSON.stringify((res)))\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent:JSON.stringify(res)\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\tprint() {\r\n\t\t\t\t//连接商米一体机（如V1、V2、T1、T2等等），通过如下方式\r\n\t\t\t\tconst sunmi_print = uni.requireNativePlugin('Sunmi-Print-Inner')\r\n\r\n\t\t\t\t//使用前连接打印机\r\n\t\t\t\tsunmi_print.connect(res => {\r\n\t\t\t\t\tconsole.log(res, \"打印机成功连接\")\r\n\t\t\t\t\tthis.res = JSON.stringify(res)\r\n\t\t\t\t\tif (res.connect == \"hello\") {\r\n\t\t\t\t\t\t//主动初始化打印机\r\n\t\t\t\t\t\tsunmi_print.printInit()\r\n\t\t\t\t\t\t//打印一张自检页\r\n\t\t\t\t\t\tsunmi_print.printSelfCheck()\r\n\t\t\t\t\t\t//设置加粗指令，之后的文本内容会加粗\r\n\t\t\t\t\t\tvar cmd1 = [0x1b, 0x45, 0x01]\r\n\t\t\t\t\t\t//设置行高指令，之后的文本内容行间距改变\r\n\t\t\t\t\t\tvar cmd2 = [0x1b, 0x33, 0x00]\r\n\t\t\t\t\t\t//打印12345678\r\n\t\t\t\t\t\tvar data = [0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x0a]\r\n\t\t\t\t\t\tsunmi_print.printRawData(cmd1);\r\n\t\t\t\t\t\tsunmi_print.printRawData(cmd2);\r\n\t\t\t\t\t\tsunmi_print.printRawData(data)\r\n\t\t\t\t\t\tsunmi_print.printRawData(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\r\n\r\n\t\t\t},\r\n\t\t\topen(type) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tif (type == 1) {\r\n\t\t\t\t\t// 允许从相机和相册扫码\r\n\t\t\t\t\tuni.scanCode({\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tconsole.log('条码类型：' + res.scanType);\r\n\t\t\t\t\t\t\tconsole.log('条码内容：' + res.result);\r\n\t\t\t\t\t\t\t_this.res = JSON.stringify(res)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (type == 2) {\r\n\t\t\t\t\t// 只允许通过相机扫码\r\n\t\t\t\t\tuni.scanCode({\r\n\t\t\t\t\t\tonlyFromCamera: true,\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tconsole.log('条码类型：' + res.scanType);\r\n\r\n\t\t\t\t\t\t\tconsole.log('条码内容：' + res.result);\r\n\t\t\t\t\t\t\t_this.res = JSON.stringify(res)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 调起条码扫描\r\n\t\t\t\t\tuni.scanCode({\r\n\t\t\t\t\t\tscanType: ['barCode'],\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tconsole.log('条码类型：' + res.scanType);\r\n\t\t\t\t\t\t\tconsole.log('条码内容：' + res.result);\r\n\t\t\t\t\t\t\t_this.res = JSON.stringify(res)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\r\n\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":""}